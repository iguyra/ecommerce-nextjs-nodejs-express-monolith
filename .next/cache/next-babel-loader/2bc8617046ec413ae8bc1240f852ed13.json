{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useContext } from \"react\";\nimport { AppContext } from \"../../../context/appContext\";\nimport { updateCart } from \"../../../functions\";\nimport Product from \"../../../pages/products/[product]\";\n\nconst CartItem = ({\n  product\n}) => {\n  const {\n    0: productCount,\n    1: setProductCount\n  } = useState(product.qty);\n  const {\n    0: cart,\n    1: setCart\n  } = useContext(AppContext);\n\n  const handleQtyChange = e => {\n    if (false) {\n      const newQty = e.target.value;\n      setProductCount(newQty);\n      let existingCart = localStorage.getItem(\"isavecart\");\n      existingCart = JSON.parse(existingCart);\n      const updatedCart = updateCart(existingCart, product, false, newQty);\n      setCart(updatedCart);\n    }\n  };\n\n  const handleRemoveCartItem = e => {\n    const itemToBeRemoved = e.target;\n    const itemToBeRemovedId = itemToBeRemoved.id;\n    const item = document.getElementById(itemToBeRemovedId);\n    itemToBeRemoved.closest(\"cartitem\").remove();\n    console.log(\"itemToBeRemoved\", item); // let existingCart = localStorage.getItem(\"isavecart\");\n    // existingCart = JSON.parse(existingCart);\n    // const itemIndex = existingCart.products.findIndex((product) => product._id === itemToBeRemovedId);\n    // existingCart.products.splice(itemIndex, 1);\n    // setCart(existingCart);\n    // localStorage.setItem(\"isavecart\", JSON.stringify(existingCart));\n  };\n\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: /*#__PURE__*/_jsxs(\"section\", {\n      className: \"cartitem\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"cartitem__top\",\n        children: [/*#__PURE__*/_jsx(\"img\", {\n          src: product.image,\n          alt: \"\",\n          className: \"cartitem__img\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"cartitem__details\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"cartitem__productname\",\n            children: product.name\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"cartitem__size\",\n            children: \"size: one size fits all\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: \"cartitem__price\",\n            children: [\"GH \", product.price]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: \"cartitem__price\",\n            children: [\"GH \", product.totalPrice]\n          })]\n        })]\n      }, product.productId), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"cartitem__bottom\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"cartitem__control\",\n          children: [/*#__PURE__*/_jsx(\"i\", {\n            className: \"far fa-heart\"\n          }), /*#__PURE__*/_jsx(\"i\", {\n            onClick: handleRemoveCartItem,\n            id: product._id,\n            className: \"fas fa-trash-alt\",\n            children: \"remove\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"cartitem__incdes\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"cartitem__qunatity cartitem__qunatity--dec\",\n            children: \"-\"\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"number\",\n            min: \"1\",\n            onChange: handleQtyChange,\n            className: \"cartitem__qunatity cartitem__qunatity--number\",\n            value: productCount\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"cartitem__qunatity cartitem__qunatity--inc\",\n            children: \"+\"\n          })]\n        })]\n      })]\n    })\n  });\n};\n\nexport default CartItem;","map":{"version":3,"sources":["C:/Users/USER/Desktop/isave/components/cart/cartpage/CartItem.js"],"names":["React","useState","useContext","AppContext","updateCart","Product","CartItem","product","productCount","setProductCount","qty","cart","setCart","handleQtyChange","e","newQty","target","value","existingCart","localStorage","getItem","JSON","parse","updatedCart","handleRemoveCartItem","itemToBeRemoved","itemToBeRemovedId","id","item","document","getElementById","closest","remove","console","log","image","name","price","totalPrice","productId","_id"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { AppContext } from \"../../../context/appContext\";\r\nimport { updateCart } from \"../../../functions\";\r\nimport Product from \"../../../pages/products/[product]\";\r\n\r\nconst CartItem = ({ product }) => {\r\n  const [productCount, setProductCount] = useState(product.qty);\r\n  const [cart, setCart] = useContext(AppContext);\r\n\r\n  const handleQtyChange = (e) => {\r\n    if (process.browser) {\r\n      const newQty = e.target.value;\r\n      setProductCount(newQty);\r\n\r\n      let existingCart = localStorage.getItem(\"isavecart\");\r\n      existingCart = JSON.parse(existingCart);\r\n\r\n      const updatedCart = updateCart(existingCart, product, false, newQty);\r\n\r\n      setCart(updatedCart);\r\n    }\r\n  };\r\n\r\n  const handleRemoveCartItem = (e) => {\r\n    const itemToBeRemoved = e.target;\r\n    const itemToBeRemovedId = itemToBeRemoved.id;\r\n    const item = document.getElementById(itemToBeRemovedId);\r\n\r\n    itemToBeRemoved.closest(\"cartitem\").remove();\r\n\r\n    console.log(\"itemToBeRemoved\", item);\r\n\r\n    // let existingCart = localStorage.getItem(\"isavecart\");\r\n    // existingCart = JSON.parse(existingCart);\r\n\r\n    // const itemIndex = existingCart.products.findIndex((product) => product._id === itemToBeRemovedId);\r\n\r\n    // existingCart.products.splice(itemIndex, 1);\r\n    // setCart(existingCart);\r\n    // localStorage.setItem(\"isavecart\", JSON.stringify(existingCart));\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <section className=\"cartitem\">\r\n        <div key={product.productId} className=\"cartitem__top\">\r\n          <img src={product.image} alt=\"\" className=\"cartitem__img\" />\r\n          <div className=\"cartitem__details\">\r\n            <p className=\"cartitem__productname\">{product.name}</p>\r\n            <p className=\"cartitem__size\">size: one size fits all</p>\r\n            <p className=\"cartitem__price\">GH {product.price}</p>\r\n            <p className=\"cartitem__price\">GH {product.totalPrice}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"cartitem__bottom\">\r\n          <div className=\"cartitem__control\">\r\n            <i className=\"far fa-heart\"></i>\r\n            <i onClick={handleRemoveCartItem} id={product._id} className=\"fas fa-trash-alt\">\r\n              remove\r\n            </i>\r\n          </div>\r\n          <div className=\"cartitem__incdes\">\r\n            <p className=\"cartitem__qunatity cartitem__qunatity--dec\">-</p>\r\n            <input\r\n              type=\"number\"\r\n              min=\"1\"\r\n              onChange={handleQtyChange}\r\n              className=\"cartitem__qunatity cartitem__qunatity--number\"\r\n              value={productCount}\r\n            />\r\n            <p className=\"cartitem__qunatity cartitem__qunatity--inc\">+</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n"]},"metadata":{},"sourceType":"module"}